<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="811px" preserveAspectRatio="none" style="width:1535px;height:811px;" version="1.1" viewBox="0 0 1535 811" width="1535px" zoomAndPan="magnify"><defs><filter height="300%" id="fz7yloyas5yod" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="191" x="674" y="18.8613">Trackingbot Architecure</text><!--cluster bot--><polygon fill="#FFFFFF" filter="url(#fz7yloyas5yod)" points="14,39.7393,41,39.7393,48,64.2031,1305,64.2031,1305,799.7393,14,799.7393,14,39.7393" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="48" y1="64.2031" y2="64.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="18" y="56.4092">bot</text><!--cluster commands--><polygon fill="#FFFFFF" filter="url(#fz7yloyas5yod)" points="447,191.2393,523,191.2393,530,215.7031,1297,215.7031,1297,791.7393,447,791.7393,447,191.2393" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="447" x2="530" y1="215.7031" y2="215.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="451" y="207.9092">commands</text><!--cluster services--><polygon fill="#FFFFFF" filter="url(#fz7yloyas5yod)" points="960,342.7393,1019,342.7393,1026,367.2031,1289,367.2031,1289,593.7393,960,593.7393,960,342.7393" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="960" x2="1026" y1="367.2031" y2="367.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="964" y="359.4092">services</text><!--cluster config--><polygon fill="#FFFFFF" filter="url(#fz7yloyas5yod)" points="1313,46.7393,1359,46.7393,1366,71.2031,1513,71.2031,1513,427.7393,1313,427.7393,1313,46.7393" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1313" x2="1366" y1="71.2031" y2="71.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1317" y="63.4092">config</text><!--class MessageBot--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="77.0146" id="MessageBot" style="stroke: #A80036; stroke-width: 1.5;" width="306" x="22" y="205.7393"/><ellipse cx="138.25" cy="221.7393" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M139.4844,227.7393 L136.9844,227.7393 L136.9844,215.6455 L139.4844,215.6455 L139.4844,227.7393 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="158.75" y="226.4004">MessageBot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="327" y1="237.7393" y2="237.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="327" y1="245.7393" y2="245.7393"/><ellipse cx="33" cy="258.4929" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="42" y="261.2656">apply(&amp;mut self,cmds : Vec&lt;Box&lt;MessageCommand&gt;&gt;)</text><ellipse cx="33" cy="273.0002" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="42" y="275.7729">start(&amp;mut self) : Result&lt;JoinHandle,Error&gt;</text><!--class TelegramBot--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="TelegramBot" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="88.5" y="83.2393"/><ellipse cx="103.5" cy="99.2393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M108.0625,101.208 Q107.9219,103.1611 106.625,104.2861 Q105.3281,105.4111 103.2031,105.4111 Q100.875,105.4111 99.5469,103.8408 Q98.2188,102.2705 98.2188,99.5518 L98.2188,98.8018 Q98.2188,97.0674 98.8281,95.7393 Q99.4375,94.4111 100.5781,93.7002 Q101.7188,92.9893 103.2344,92.9893 Q105.3281,92.9893 106.6094,94.1064 Q107.8906,95.2236 108.0781,97.2549 L105.5938,97.2549 Q105.5,96.083 104.9375,95.5596 Q104.375,95.0361 103.2344,95.0361 Q101.9844,95.0361 101.3672,95.9268 Q100.75,96.8174 100.7344,98.6924 L100.7344,99.5986 Q100.7344,101.5674 101.3281,102.4658 Q101.9219,103.3643 103.2031,103.3643 Q104.3594,103.3643 104.9297,102.8408 Q105.5,102.3174 105.5781,101.208 L108.0625,101.208 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="117.5" y="103.9004">TelegramBot</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="89.5" x2="188.5" y1="115.2393" y2="115.2393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="89.5" x2="188.5" y1="123.2393" y2="123.2393"/><!--class BotBuilder--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="77.0146" id="BotBuilder" style="stroke: #A80036; stroke-width: 1.5;" width="425" x="224.5" y="68.7393"/><ellipse cx="405.25" cy="84.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409.8125,86.708 Q409.6719,88.6611 408.375,89.7861 Q407.0781,90.9111 404.9531,90.9111 Q402.625,90.9111 401.2969,89.3408 Q399.9688,87.7705 399.9688,85.0518 L399.9688,84.3018 Q399.9688,82.5674 400.5781,81.2393 Q401.1875,79.9111 402.3281,79.2002 Q403.4688,78.4893 404.9844,78.4893 Q407.0781,78.4893 408.3594,79.6064 Q409.6406,80.7236 409.8281,82.7549 L407.3438,82.7549 Q407.25,81.583 406.6875,81.0596 Q406.125,80.5361 404.9844,80.5361 Q403.7344,80.5361 403.1172,81.4268 Q402.5,82.3174 402.4844,84.1924 L402.4844,85.0986 Q402.4844,87.0674 403.0781,87.9658 Q403.6719,88.8643 404.9531,88.8643 Q406.1094,88.8643 406.6797,88.3408 Q407.25,87.8174 407.3281,86.708 L409.8125,86.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="425.75" y="89.4004">BotBuilder</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="225.5" x2="648.5" y1="100.7393" y2="100.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="225.5" x2="648.5" y1="108.7393" y2="108.7393"/><ellipse cx="235.5" cy="121.4929" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="244.5" y="124.2656">new() : BotBuilder</text><ellipse cx="235.5" cy="136.0002" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="244.5" y="138.7729">build(&amp;self,config : AppConfig, type : BotType) : Result&lt;Box&lt;MessageBot&gt;,Error&gt;</text><!--class BotType--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="62.5073" id="BotType" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="363" y="212.7393"/><ellipse cx="378" cy="228.7393" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M381.3438,229.5049 L376.5625,229.5049 L376.5625,232.7393 L382.1875,232.7393 L382.1875,234.7393 L374.0781,234.7393 L374.0781,222.6455 L382.1719,222.6455 L382.1719,224.6768 L376.5625,224.6768 L376.5625,227.5518 L381.3438,227.5518 L381.3438,229.5049 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="392" y="233.4004">BotType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="438" y1="244.7393" y2="244.7393"/><ellipse cx="374" cy="257.4929" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="383" y="260.2656">Telegram</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="438" y1="267.2466" y2="267.2466"/><!--class MessageCommand--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="106.0293" id="MessageCommand" style="stroke: #A80036; stroke-width: 1.5;" width="478" x="455" y="342.7393"/><ellipse cx="639.25" cy="358.7393" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M640.4844,364.7393 L637.9844,364.7393 L637.9844,352.6455 L640.4844,352.6455 L640.4844,364.7393 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="659.75" y="363.4004">MessageCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="932" y1="374.7393" y2="374.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="932" y1="382.7393" y2="382.7393"/><ellipse cx="466" cy="395.4929" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="475" y="398.2656">exec_cmd(&amp;self,args: Option&lt;Vec</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="643" y="398.2656">&gt;, chat: Option</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="715" y="398.2656">) : Result&lt;String,CommandError&gt;</text><ellipse cx="466" cy="410.0002" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="475" y="412.7729">exec_cmd_mut(&amp;mut self, args: Option&lt;Vec</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="694" y="412.7729">&gt;,chat: Option</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="763" y="412.7729">) : Result&lt;String,CommandError&gt;</text><ellipse cx="466" cy="424.5076" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="475" y="427.2803">type(&amp;self) : CommandType</text><ellipse cx="466" cy="439.0149" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="475" y="441.7876">need_mut(&amp;self) : bool</text><!--class TrackingStateCommand--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="TrackingStateCommand" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="1044.5" y="220.2393"/><ellipse cx="1059.5" cy="236.2393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1064.0625,238.208 Q1063.9219,240.1611 1062.625,241.2861 Q1061.3281,242.4111 1059.2031,242.4111 Q1056.875,242.4111 1055.5469,240.8408 Q1054.2188,239.2705 1054.2188,236.5518 L1054.2188,235.8018 Q1054.2188,234.0674 1054.8281,232.7393 Q1055.4375,231.4111 1056.5781,230.7002 Q1057.7188,229.9893 1059.2344,229.9893 Q1061.3281,229.9893 1062.6094,231.1064 Q1063.8906,232.2236 1064.0781,234.2549 L1061.5938,234.2549 Q1061.5,233.083 1060.9375,232.5596 Q1060.375,232.0361 1059.2344,232.0361 Q1057.9844,232.0361 1057.3672,232.9268 Q1056.75,233.8174 1056.7344,235.6924 L1056.7344,236.5986 Q1056.7344,238.5674 1057.3281,239.4658 Q1057.9219,240.3643 1059.2031,240.3643 Q1060.3594,240.3643 1060.9297,239.8408 Q1061.5,239.3174 1061.5781,238.208 L1064.0625,238.208 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="1073.5" y="240.9004">TrackingStateCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045.5" x2="1208.5" y1="252.2393" y2="252.2393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1045.5" x2="1208.5" y1="260.2393" y2="260.2393"/><!--class OrderDetailsCommand--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="OrderDetailsCommand" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="695" y="220.2393"/><ellipse cx="710" cy="236.2393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M714.5625,238.208 Q714.4219,240.1611 713.125,241.2861 Q711.8281,242.4111 709.7031,242.4111 Q707.375,242.4111 706.0469,240.8408 Q704.7188,239.2705 704.7188,236.5518 L704.7188,235.8018 Q704.7188,234.0674 705.3281,232.7393 Q705.9375,231.4111 707.0781,230.7002 Q708.2188,229.9893 709.7344,229.9893 Q711.8281,229.9893 713.1094,231.1064 Q714.3906,232.2236 714.5781,234.2549 L712.0938,234.2549 Q712,233.083 711.4375,232.5596 Q710.875,232.0361 709.7344,232.0361 Q708.4844,232.0361 707.8672,232.9268 Q707.25,233.8174 707.2344,235.6924 L707.2344,236.5986 Q707.2344,238.5674 707.8281,239.4658 Q708.4219,240.3643 709.7031,240.3643 Q710.8594,240.3643 711.4297,239.8408 Q712,239.3174 712.0781,238.208 L714.5625,238.208 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="724" y="240.9004">OrderDetailsCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="696" x2="850" y1="252.2393" y2="252.2393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="696" x2="850" y1="260.2393" y2="260.2393"/><!--class CommandType--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="77.0146" id="CommandType" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="514" y="523.2393"/><ellipse cx="529" cy="539.2393" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M532.3438,540.0049 L527.5625,540.0049 L527.5625,543.2393 L533.1875,543.2393 L533.1875,545.2393 L525.0781,545.2393 L525.0781,533.1455 L533.1719,533.1455 L533.1719,535.1768 L527.5625,535.1768 L527.5625,538.0518 L532.3438,538.0518 L532.3438,540.0049 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="543" y="543.9004">CommandType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="515" x2="629" y1="555.2393" y2="555.2393"/><ellipse cx="525" cy="567.9929" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="534" y="570.7656">SingleCommand</text><ellipse cx="525" cy="582.5002" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="534" y="585.2729">ChatCommand</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="515" x2="629" y1="592.2539" y2="592.2539"/><!--class Chat--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="Chat" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="665" y="537.7393"/><ellipse cx="680" cy="553.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M684.5625,555.708 Q684.4219,557.6611 683.125,558.7861 Q681.8281,559.9111 679.7031,559.9111 Q677.375,559.9111 676.0469,558.3408 Q674.7188,556.7705 674.7188,554.0518 L674.7188,553.3018 Q674.7188,551.5674 675.3281,550.2393 Q675.9375,548.9111 677.0781,548.2002 Q678.2188,547.4893 679.7344,547.4893 Q681.8281,547.4893 683.1094,548.6064 Q684.3906,549.7236 684.5781,551.7549 L682.0938,551.7549 Q682,550.583 681.4375,550.0596 Q680.875,549.5361 679.7344,549.5361 Q678.4844,549.5361 677.8672,550.4268 Q677.25,551.3174 677.2344,553.1924 L677.2344,554.0986 Q677.2344,556.0674 677.8281,556.9658 Q678.4219,557.8643 679.7031,557.8643 Q680.8594,557.8643 681.4297,557.3408 Q682,556.8174 682.0781,555.708 L684.5625,555.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="26" x="694" y="558.4004">Chat</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="666" x2="722" y1="569.7393" y2="569.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="666" x2="722" y1="577.7393" y2="577.7393"/><!--class Message--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="Message" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="654" y="735.7393"/><ellipse cx="669" cy="751.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M673.5625,753.708 Q673.4219,755.6611 672.125,756.7861 Q670.8281,757.9111 668.7031,757.9111 Q666.375,757.9111 665.0469,756.3408 Q663.7188,754.7705 663.7188,752.0518 L663.7188,751.3018 Q663.7188,749.5674 664.3281,748.2393 Q664.9375,746.9111 666.0781,746.2002 Q667.2188,745.4893 668.7344,745.4893 Q670.8281,745.4893 672.1094,746.6064 Q673.3906,747.7236 673.5781,749.7549 L671.0938,749.7549 Q671,748.583 670.4375,748.0596 Q669.875,747.5361 668.7344,747.5361 Q667.4844,747.5361 666.8672,748.4268 Q666.25,749.3174 666.2344,751.1924 L666.2344,752.0986 Q666.2344,754.0674 666.8281,754.9658 Q667.4219,755.8643 668.7031,755.8643 Q669.8594,755.8643 670.4297,755.3408 Q671,754.8174 671.0781,753.708 L673.5625,753.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="48" x="683" y="756.4004">Message</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="655" x2="733" y1="767.7393" y2="767.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="655" x2="733" y1="775.7393" y2="775.7393"/><!--class CommandError--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="106.0293" id="CommandError" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="758.5" y="508.7393"/><ellipse cx="783.85" cy="524.7393" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M787.1938,525.5049 L782.4125,525.5049 L782.4125,528.7393 L788.0375,528.7393 L788.0375,530.7393 L779.9281,530.7393 L779.9281,518.6455 L788.0219,518.6455 L788.0219,520.6768 L782.4125,520.6768 L782.4125,523.5518 L787.1938,523.5518 L787.1938,525.5049 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="800.15" y="529.4004">CommandError</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="759.5" x2="896.5" y1="540.7393" y2="540.7393"/><ellipse cx="769.5" cy="553.4929" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="778.5" y="556.2656">IllegalArguments</text><ellipse cx="769.5" cy="568.0002" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="778.5" y="570.7729">NoArguments</text><ellipse cx="769.5" cy="582.5076" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="778.5" y="585.2803">InternalCommandError</text><ellipse cx="769.5" cy="597.0149" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="778.5" y="599.7876">IOError</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="759.5" x2="896.5" y1="606.7686" y2="606.7686"/><!--class TrackingStateService--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="TrackingStateService" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="1139" y="371.7393"/><ellipse cx="1154" cy="387.7393" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1155.2344,393.7393 L1152.7344,393.7393 L1152.7344,381.6455 L1155.2344,381.6455 L1155.2344,393.7393 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="110" x="1168" y="392.4004">TrackingStateService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1140" x2="1280" y1="403.7393" y2="403.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1140" x2="1280" y1="411.7393" y2="411.7393"/><!--class OrderDetailsService--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="OrderDetailsService" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="968.5" y="371.7393"/><ellipse cx="983.5" cy="387.7393" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M984.7344,393.7393 L982.2344,393.7393 L982.2344,381.6455 L984.7344,381.6455 L984.7344,393.7393 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="103" x="997.5" y="392.4004">OrderDetailsService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="969.5" x2="1102.5" y1="403.7393" y2="403.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="969.5" x2="1102.5" y1="411.7393" y2="411.7393"/><!--class OrderDetails--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="OrderDetails" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="987" y="537.7393"/><ellipse cx="1002" cy="553.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1006.5625,555.708 Q1006.4219,557.6611 1005.125,558.7861 Q1003.8281,559.9111 1001.7031,559.9111 Q999.375,559.9111 998.0469,558.3408 Q996.7188,556.7705 996.7188,554.0518 L996.7188,553.3018 Q996.7188,551.5674 997.3281,550.2393 Q997.9375,548.9111 999.0781,548.2002 Q1000.2188,547.4893 1001.7344,547.4893 Q1003.8281,547.4893 1005.1094,548.6064 Q1006.3906,549.7236 1006.5781,551.7549 L1004.0938,551.7549 Q1004,550.583 1003.4375,550.0596 Q1002.875,549.5361 1001.7344,549.5361 Q1000.4844,549.5361 999.8672,550.4268 Q999.25,551.3174 999.2344,553.1924 L999.2344,554.0986 Q999.2344,556.0674 999.8281,556.9658 Q1000.4219,557.8643 1001.7031,557.8643 Q1002.8594,557.8643 1003.4297,557.3408 Q1004,556.8174 1004.0781,555.708 L1006.5625,555.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="1016" y="558.4004">OrderDetails</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="988" x2="1084" y1="569.7393" y2="569.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="988" x2="1084" y1="577.7393" y2="577.7393"/><!--class TrackingState--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="TrackingState" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="1156.5" y="537.7393"/><ellipse cx="1171.5" cy="553.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1176.0625,555.708 Q1175.9219,557.6611 1174.625,558.7861 Q1173.3281,559.9111 1171.2031,559.9111 Q1168.875,559.9111 1167.5469,558.3408 Q1166.2188,556.7705 1166.2188,554.0518 L1166.2188,553.3018 Q1166.2188,551.5674 1166.8281,550.2393 Q1167.4375,548.9111 1168.5781,548.2002 Q1169.7188,547.4893 1171.2344,547.4893 Q1173.3281,547.4893 1174.6094,548.6064 Q1175.8906,549.7236 1176.0781,551.7549 L1173.5938,551.7549 Q1173.5,550.583 1172.9375,550.0596 Q1172.375,549.5361 1171.2344,549.5361 Q1169.9844,549.5361 1169.3672,550.4268 Q1168.75,551.3174 1168.7344,553.1924 L1168.7344,554.0986 Q1168.7344,556.0674 1169.3281,556.9658 Q1169.9219,557.8643 1171.2031,557.8643 Q1172.3594,557.8643 1172.9297,557.3408 Q1173.5,556.8174 1173.5781,555.708 L1176.0625,555.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1185.5" y="558.4004">TrackingState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1157.5" x2="1262.5" y1="569.7393" y2="569.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1157.5" x2="1262.5" y1="577.7393" y2="577.7393"/><!--class AppConfig--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="AppConfig" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1352" y="220.2393"/><ellipse cx="1367" cy="236.2393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1371.5625,238.208 Q1371.4219,240.1611 1370.125,241.2861 Q1368.8281,242.4111 1366.7031,242.4111 Q1364.375,242.4111 1363.0469,240.8408 Q1361.7188,239.2705 1361.7188,236.5518 L1361.7188,235.8018 Q1361.7188,234.0674 1362.3281,232.7393 Q1362.9375,231.4111 1364.0781,230.7002 Q1365.2188,229.9893 1366.7344,229.9893 Q1368.8281,229.9893 1370.1094,231.1064 Q1371.3906,232.2236 1371.5781,234.2549 L1369.0938,234.2549 Q1369,233.083 1368.4375,232.5596 Q1367.875,232.0361 1366.7344,232.0361 Q1365.4844,232.0361 1364.8672,232.9268 Q1364.25,233.8174 1364.2344,235.6924 L1364.2344,236.5986 Q1364.2344,238.5674 1364.8281,239.4658 Q1365.4219,240.3643 1366.7031,240.3643 Q1367.8594,240.3643 1368.4297,239.8408 Q1369,239.3174 1369.0781,238.208 L1371.5625,238.208 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="1381" y="240.9004">AppConfig</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1353" x2="1441" y1="252.2393" y2="252.2393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1353" x2="1441" y1="260.2393" y2="260.2393"/><!--class DatabaseConfig--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="48" id="DatabaseConfig" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1337" y="371.7393"/><ellipse cx="1352" cy="387.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1356.5625,389.708 Q1356.4219,391.6611 1355.125,392.7861 Q1353.8281,393.9111 1351.7031,393.9111 Q1349.375,393.9111 1348.0469,392.3408 Q1346.7188,390.7705 1346.7188,388.0518 L1346.7188,387.3018 Q1346.7188,385.5674 1347.3281,384.2393 Q1347.9375,382.9111 1349.0781,382.2002 Q1350.2188,381.4893 1351.7344,381.4893 Q1353.8281,381.4893 1355.1094,382.6064 Q1356.3906,383.7236 1356.5781,385.7549 L1354.0938,385.7549 Q1354,384.583 1353.4375,384.0596 Q1352.875,383.5361 1351.7344,383.5361 Q1350.4844,383.5361 1349.8672,384.4268 Q1349.25,385.3174 1349.2344,387.1924 L1349.2344,388.0986 Q1349.2344,390.0674 1349.8281,390.9658 Q1350.4219,391.8643 1351.7031,391.8643 Q1352.8594,391.8643 1353.4297,391.3408 Q1354,390.8174 1354.0781,389.708 L1356.5625,389.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="1366" y="392.4004">DatabaseConfig</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1338" x2="1456" y1="403.7393" y2="403.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1338" x2="1456" y1="411.7393" y2="411.7393"/><!--class ConfigLoader--><rect fill="#FEFECE" filter="url(#fz7yloyas5yod)" height="62.5073" id="ConfigLoader" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="1320.5" y="75.7393"/><ellipse cx="1372.25" cy="91.7393" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1376.8125,93.708 Q1376.6719,95.6611 1375.375,96.7861 Q1374.0781,97.9111 1371.9531,97.9111 Q1369.625,97.9111 1368.2969,96.3408 Q1366.9688,94.7705 1366.9688,92.0518 L1366.9688,91.3018 Q1366.9688,89.5674 1367.5781,88.2393 Q1368.1875,86.9111 1369.3281,86.2002 Q1370.4688,85.4893 1371.9844,85.4893 Q1374.0781,85.4893 1375.3594,86.6064 Q1376.6406,87.7236 1376.8281,89.7549 L1374.3438,89.7549 Q1374.25,88.583 1373.6875,88.0596 Q1373.125,87.5361 1371.9844,87.5361 Q1370.7344,87.5361 1370.1172,88.4268 Q1369.5,89.3174 1369.4844,91.1924 L1369.4844,92.0986 Q1369.4844,94.0674 1370.0781,94.9658 Q1370.6719,95.8643 1371.9531,95.8643 Q1373.1094,95.8643 1373.6797,95.3408 Q1374.25,94.8174 1374.3281,93.708 L1376.8125,93.708 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="1392.75" y="96.4004">ConfigLoader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1321.5" x2="1504.5" y1="107.7393" y2="107.7393"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1321.5" x2="1504.5" y1="115.7393" y2="115.7393"/><ellipse cx="1331.5" cy="128.4929" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="1340.5" y="131.2656">load() : Result&lt;AppConfig,Error&gt;</text><!--link BotBuilder to BotType--><path d="M426.8762,145.766 C421.8197,165.0089 415.7302,188.1827 410.7292,207.2144 " fill="none" id="BotBuilder-BotType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="409.3493,212.4657,415.5055,204.7779,410.6201,207.6299,407.7682,202.7445,409.3493,212.4657" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BotBuilder to AppConfig--><path d="M649.9014,117.503 C866.7331,129.8007 1187.2951,153.592 1305,191.2393 C1323.7763,197.2448 1342.9205,207.4822 1358.8485,217.3675 " fill="none" id="BotBuilder-AppConfig" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1363.2528,220.1426,1357.7708,211.9604,1359.0226,217.477,1353.5059,218.7288,1363.2528,220.1426" style="stroke: #A80036; stroke-width: 1.0;"/><!--link BotBuilder to MessageBot--><path d="M363.3212,145.766 C329.1365,163.6412 288.465,184.9084 253.6819,203.0965 " fill="none" id="BotBuilder-MessageBot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="249.0336,205.5271,258.8626,204.9013,253.4644,203.2102,255.1555,197.812,249.0336,205.5271" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Chat to Message--><path d="M694,586.018 C694,620.1039 694,682.4433 694,722.4396 " fill="none" id="Chat-Message" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="694,735.572,698,729.572,694,723.572,690,729.572,694,735.572" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TelegramBot to MessageBot--><path d="M145.3532,131.4168 C149.3532,146.639 154.698,166.9788 159.7473,186.1945 " fill="none" id="TelegramBot-MessageBot" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="166.5208,184.4283,164.8336,205.5506,152.9805,187.9864,166.5208,184.4283" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageCommand to Chat--><path d="M694,449.1765 C694,476.8447 694,509.5545 694,532.5624 " fill="none" id="MessageCommand-Chat" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="694,537.6098,698,528.6098,694,532.6098,690,528.6098,694,537.6098" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageCommand to CommandType--><path d="M654.7269,449.1765 C638.1398,471.7458 619.0872,497.6698 603.4504,518.9461 " fill="none" id="MessageCommand-CommandType" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="600.3703,523.1371,608.9234,518.2539,603.3314,519.1082,602.4771,513.5162,600.3703,523.1371" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageCommand to CommandError--><path d="M737.136,449.1765 C751.433,466.8877 767.3976,486.6647 781.9081,504.6403 " fill="none" id="MessageCommand-CommandError" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="785.1741,508.6863,782.6333,499.1708,782.0334,504.7957,776.4085,504.1959,785.1741,508.6863" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TrackingStateService to TrackingState--><path d="M1210,419.8771 C1210,449.6284 1210,500.1684 1210,532.2056 " fill="none" id="TrackingStateService-TrackingState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1210,537.5723,1214,528.5723,1210,532.5723,1206,528.5723,1210,537.5723" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OrderDetailsService to OrderDetails--><path d="M1036,419.8771 C1036,449.6284 1036,500.1684 1036,532.2056 " fill="none" id="OrderDetailsService-OrderDetails" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1036,537.5723,1040,528.5723,1036,532.5723,1032,528.5723,1036,537.5723" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TrackingStateCommand to MessageCommand--><path d="M1058.3899,268.2449 C1006.2945,286.4723 932.3156,312.3564 864.6121,336.0447 " fill="none" id="TrackingStateCommand-MessageCommand" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="866.8958,342.6618,845.7061,342.6597,862.2722,329.4473,866.8958,342.6618" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OrderDetailsCommand to MessageCommand--><path d="M760.4822,268.2449 C752.4804,283.5902 741.6488,304.3622 731.0529,324.6822 " fill="none" id="OrderDetailsCommand-MessageCommand" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="737.1327,328.1625,721.6785,342.6597,724.719,321.6893,737.1327,328.1625" style="stroke: #A80036; stroke-width: 1.0;"/><!--link OrderDetailsCommand to OrderDetailsService--><path d="M825.6314,268.3008 C864.9602,286.9772 919.5423,314.3896 965,342.7393 C977.438,350.4962 990.4544,359.8224 1001.8952,368.4746 " fill="none" id="OrderDetailsCommand-OrderDetailsService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1006.0349,371.6277,1001.2991,362.9922,1002.0573,368.598,996.4515,369.3562,1006.0349,371.6277" style="stroke: #A80036; stroke-width: 1.0;"/><!--link TrackingStateCommand to TrackingStateService--><path d="M1140.1516,268.2449 C1154.8605,295.0932 1178.6705,338.5536 1194.3318,367.1402 " fill="none" id="TrackingStateCommand-TrackingStateService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1196.7728,371.5956,1195.9564,361.7806,1194.3704,367.2105,1188.9404,365.6245,1196.7728,371.5956" style="stroke: #A80036; stroke-width: 1.0;"/><!--link MessageBot to MessageCommand--><path d="M306.9724,282.763 C367.7063,300.4917 440.8433,321.841 507.1102,341.1848 " fill="none" id="MessageBot-MessageCommand" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="512.275,342.6924,504.7565,336.3306,507.4753,341.2912,502.5147,344.0101,512.275,342.6924" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AppConfig to DatabaseConfig--><path d="M1397,268.2449 C1397,294.8722 1397,337.8393 1397,366.4313 " fill="none" id="AppConfig-DatabaseConfig" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1397,371.5956,1401,362.5956,1397,366.5956,1393,362.5956,1397,371.5956" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ConfigLoader to AppConfig--><path d="M1409.2891,139.0142 C1406.6226,161.8459 1403.0535,192.406 1400.4489,214.708 " fill="none" id="ConfigLoader-AppConfig" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1399.842,219.9043,1404.8592,211.4292,1400.4221,214.938,1396.9133,210.5009,1399.842,219.9043" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

title Trackingbot Architecure

package bot{
    interface MessageBot{
        + apply(&mut self,cmds : Vec<Box<MessageCommand>>)
        + start(&mut self) : Result<JoinHandle,Error>
    }
    class TelegramBot
    
    class BotBuilder{
        + new() : BotBuilder
        + build(&self,config : AppConfig, type : BotType) : Result<Box<MessageBot>,Error>
    }
    
    enum BotType{
        + Telegram
    }
    
    package commands{
        interface MessageCommand{
            + exec_cmd(&self,args: Option<Vec<&str>>, chat: Option<&Chat>) : Result<String,CommandError>
            + exec_cmd_mut(&mut self, args: Option<Vec<&str>>,chat: Option<&Chat>) : Result<String,CommandError>
            + type(&self) : CommandType
            + need_mut(&self) : bool
        }
        class TrackingStateCommand
        class OrderDetailsCommand
        enum CommandType{
            + SingleCommand
            + ChatCommand
        }

        package services{
            interface TrackingStateService
            interface OrderDetailsService
            class OrderDetails
            class TrackingState
        }

        class Chat
        class Message

        enum CommandError{
            + IllegalArguments
            + NoArguments
            + InternalCommandError
            + IOError
        }
    }
}

    package config{
        class AppConfig
        class DatabaseConfig
        class ConfigLoader{
            + load() : Result<AppConfig,Error>
    }
}

BotBuilder - -> BotType
BotBuilder - -> AppConfig
BotBuilder - -> MessageBot

Chat - - -* Message

TelegramBot - -|> MessageBot

MessageCommand - -> Chat
MessageCommand - -> CommandType
MessageCommand - -> CommandError

TrackingStateService - -> TrackingState
OrderDetailsService - -> OrderDetails

TrackingStateCommand - -|> MessageCommand
OrderDetailsCommand - -|> MessageCommand
OrderDetailsCommand - -> OrderDetailsService
TrackingStateCommand - -> TrackingStateService
MessageBot - -> MessageCommand

AppConfig - -> DatabaseConfig
ConfigLoader - -> AppConfig



@enduml

PlantUML version 1.2018.01(Sun Jan 28 19:08:22 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_162-b12
Operating System: Linux
OS Version: 4.15.15-1-ARCH
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>